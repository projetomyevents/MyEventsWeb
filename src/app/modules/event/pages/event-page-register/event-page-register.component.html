<div class="content">
  <div class="card">
    <h2 class="card-title mat-headline">Registre um novo evento</h2>
    <h4 class="card-header mat-subheading-2">{{info}}</h4>

    <mat-horizontal-stepper [formGroup]="userEvent">
      <mat-step class="card-content" label="Informações" state="info">
        <mat-form-field class="card-field" appearance="outline">
          <mat-label>Nome</mat-label>
          <label>
            <input matInput formControlName="name">
          </label>
          <mat-error *ngIf="userEvent.get('name').hasError('required')">Informe um nome</mat-error>
        </mat-form-field>

        <mat-form-field class="card-field" appearance="outline">
          <mat-label>Valor (opcional)</mat-label>
          <label>
            <input matInput formControlName="admissionPrice">
          </label>
        </mat-form-field>

        <div class="card-row">
          <mat-form-field class="card-field">
            <mat-label>Data de início</mat-label>
            <label>
              <input matInput [matDatepicker]="pikapika" formControlName="startDate">
            </label>
            <mat-datepicker-toggle matSuffix [for]="pikapika"></mat-datepicker-toggle>
            <mat-datepicker #pikapika></mat-datepicker>
            <mat-error *ngIf="userEvent.get('startDate').hasError('required')">Informe uma data de início</mat-error>
          </mat-form-field>

          <mat-form-field class="card-field" appearance="outline">
            <mat-label>Nº máximo de acompanhantes</mat-label>
            <label>
              <input matInput type="number" formControlName="companionLimit">
            </label>
            <mat-error *ngIf="userEvent.get('companionLimit').hasError('required')">Informe um número máximo de acompanhantes</mat-error>
          </mat-form-field>
        </div>

        <div class="card-row">
          <mat-form-field class="card-field" appearance="outline">
            <mat-label>Idade mínima (opcional)</mat-label>
            <label>
              <input matInput type="number" formControlName="minAge">
            </label>
          </mat-form-field>

          <mat-form-field class="card-field" appearance="outline">
            <mat-label>Traje (opcional)</mat-label>
            <label>
              <input matInput formControlName="attire">
            </label>
          </mat-form-field>
        </div>

        <mat-form-field class="card-field" appearance="outline">
          <mat-label>Descrição</mat-label>
          <label>
            <textarea matInput formControlName="description"></textarea>
          </label>
          <mat-error *ngIf="userEvent.get('description').hasError('required')">Informe uma descrição</mat-error>
        </mat-form-field>

        <mat-form-field class="card-field" appearance="outline">
          <mat-label>Cronograma</mat-label>
          <label>
            <textarea matInput formControlName="schedule"></textarea>
          </label>
          <mat-error *ngIf="userEvent.get('schedule').hasError('required')">Informe um cronograma</mat-error>
        </mat-form-field>

        <div class="card-actions">
          <button mat-button color="primary" matStepperNext>Editar o local</button>
        </div>
      </mat-step>

      <mat-step class="card-content" label="Local" state="map">
        <mat-form-field class="card-field" appearance="outline">
          <mat-label>CEP</mat-label>
          <label>
            <input matInput formControlName="CEP" pattern= "\d{5}-?\d{3}">
          </label>
          <mat-error *ngIf="userEvent.get('CEP').hasError('required')">Informe um CPF</mat-error>
        </mat-form-field>

        <mat-form-field class="card-field" appearance="outline">
          <mat-label>Estado</mat-label>
          <label>
            <input matInput formControlName="state">
          </label>
          <mat-error *ngIf="userEvent.get('state').hasError('required')">Informe um estado</mat-error>
        </mat-form-field>

        <mat-form-field class="card-field" appearance="outline">
          <mat-label>Cidade</mat-label>
          <label>
            <input matInput formControlName="city">
          </label>
          <mat-error *ngIf="userEvent.get('city').hasError('required')">Informe uma cidade</mat-error>
        </mat-form-field>

        <mat-form-field class="card-field" appearance="outline">
          <mat-label>Bairro</mat-label>
          <label>
            <input matInput formControlName="neighbourhood">
          </label>
          <mat-error *ngIf="userEvent.get('neighbourhood').hasError('required')">Informe um bairro</mat-error>
        </mat-form-field>

        <mat-form-field class="card-field" appearance="outline">
          <mat-label>Logradouro</mat-label>
          <label>
            <input matInput formControlName="street">
          </label>
          <mat-error *ngIf="userEvent.get('street').hasError('required')">Informe um logradouro</mat-error>
        </mat-form-field>

        <mat-form-field class="card-field" appearance="outline">
          <mat-label>Número</mat-label>
          <label>
            <input matInput formControlName="number">
          </label>
        </mat-form-field>

        <mat-form-field class="card-field" appearance="outline">
          <mat-label>Complemento</mat-label>
          <label>
            <input matInput formControlName="complement">
          </label>
        </mat-form-field>

        <div class="card-actions">
          <button mat-button color="primary" matStepperPrevious>Editar as informações</button>
          <button mat-button color="primary" matStepperNext>Editar os anexos</button>
        </div>
      </mat-step>

      <mat-step class="card-content" label="Anexos" state="attachments">
        <div class="card-actions">
          <button mat-button color="primary" matStepperPrevious>Editar o local</button>
          <button mat-flat-button class="form-main-action" color="primary" (click)="registerNewUserEvent()" [disabled]="resolving">Registrar</button>
        </div>
      </mat-step>
    </mat-horizontal-stepper>
  </div>
</div>
